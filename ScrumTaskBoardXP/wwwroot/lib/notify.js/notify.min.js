!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.Notify=o()}(this,function(){"use strict";function t(t){return"function"==typeof t}function o(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof o)throw new Error("Notify(): first arg (title) must be a string.");if("object"!==("undefined"==typeof n?"undefined":i(n)))throw new Error("Notify(): second arg (options) must be an object.");var s=n.notifyShow,r=void 0===s?null:s,c=n.notifyClose,l=void 0===c?null:c,f=n.notifyClick,a=void 0===f?null:f,h=n.notifyError,y=void 0===h?null:h,u=n.closeOnClick,d=void 0!==u&&u,m=n.timeout,p=void 0===m?null:m,b=e(n,["notifyShow","notifyClose","notifyClick","notifyError","closeOnClick","timeout"]);this.title=o,this.options=b,this.permission=null,this.closeOnClick=d,this.timeout=p,t(r)&&(this.onShowCallback=r),t(l)&&(this.onCloseCallback=l),t(a)&&(this.onClickCallback=a),t(y)&&(this.onErrorCallback=y)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,o){var i={};for(var e in t)o.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i},n=window.Notification;return o.isSupported=function(t){if(!n||!n.requestPermission)return!1;if("granted"===t||"granted"===n.permission)throw new Error("You must only call this before calling Notification.requestPermission(), otherwise this feature detect would trigger an actual notification!");try{new n("")}catch(t){if("TypeError"===t.name)return!1}return!0},o.needsPermission=!n||!n.permission||"granted"!==n.permission,o.requestPermission=function(i,e){n.requestPermission(function(n){switch(n){case"granted":o.needsPermission=!1,t(i)&&i();break;case"denied":o.needsPermission=!0,t(e)&&e()}})},o.prototype.show=function(){this.myNotify=new n(this.title,this.options),this.options.requireInteraction||!this.timeout||isNaN(this.timeout)||setTimeout(this.close.bind(this),1e3*this.timeout),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1)},o.prototype.onShowNotification=function(t){this.onShowCallback&&this.onShowCallback(t)},o.prototype.onCloseNotification=function(t){this.onCloseCallback&&this.onCloseCallback(t),this.destroy()},o.prototype.onClickNotification=function(t){this.onClickCallback&&this.onClickCallback(t),this.closeOnClick&&this.close()},o.prototype.onErrorNotification=function(t){this.onErrorCallback&&this.onErrorCallback(t),this.destroy()},o.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},o.prototype.close=function(){this.myNotify.close()},o.prototype.handleEvent=function(t){switch(t.type){case"show":this.onShowNotification(t);break;case"close":this.onCloseNotification(t);break;case"click":this.onClickNotification(t);break;case"error":this.onErrorNotification(t)}},o});
//# sourceMappingURL=notify.min.js.map